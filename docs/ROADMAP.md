# Godot MCP Server ロードマップ 🚀

## Vision: LLM だけでゲームが完成する世界へ

**目標: AI Agent が Godot を「自律的に」操作し、ユーザーの指示から完成したシーン/機能を作り上げる**

AI が「設計 → 実装 → テスト → 修正」のループを自力で回し、人間がコードを一行も書かずに大規模なゲームを構築できる基盤を目指します。

---

## 🏆 完了済みの基盤 (DONE)

すでに以下の強力な基盤が構築されています。

### ✅ Phase 0-1: 堅牢なコア・アーキテクチャ

- **GraphQL 統合**: すべての操作を 3 つのツールに集約。
- **WebSocket 通信**: 低遅延・双方向通信。
- **安全境界**: パス検証、引数バリデーションの強化。
- **ドメイン解体**: リゾルバのドメイン分割による高い保守性。
- **スキーマキャッシュ**: スキーマ生成コストの最適化。

### ✅ Phase 2-4: 開発・解析・生成

- **自律的 TDD**: GdUnit4 連携とテスト結果の構造化取得。
- **高度な静的解析**: シーン/スクリプト/リソースの深い理解。
- **コード生成 & リファクタリング**: シンボル検索、依存グラフ、リファクタリング支援。
- **トランザクション**: Undo/Redo と同期した安全な一括変更。
- **デバッグ情報の構造化**: スタックトレース、ローカル変数、ログの取得。

---

## � 優先度：高 (自律ループの完成 - AI の「目」と「脳」)

目標達成のために最も重要な、AI が「結果を確認し、制御する」ための機能です。

### 3.1 視覚的検証 (AI の「目」)

- [ ] `live_capture_screenshot` - 実行画面やエディタ画面をキャプチャ。AI が UI の位置や色を視覚的に判断。
- [ ] **ビジュアル・フィードバック・ループ**: AI が「指示通りに見えているか」を自分で確認するフロー。

### 3.2 実行制御 (AI の「脳」)

- [ ] `mutation setBreakpoint` / `mutation removeBreakpoint` - 特定の瞬間の状態を止めて確認。
- [ ] `mutation pause` / `resume` / `step` - コードを 1 行ずつ動かしてロジックのバグを追跡。

---

## ⚡ 優先度：中 (表現力の拡大 - AI の「手」と「配慮」)

AI がよりリッチなコンテンツを作り、人間とスムーズに連携するための機能です。

### 5.1 アセット制作 & 構築 (AI の「手」)

- [ ] `create_material` / `set_shader_param` - マテリアル設定、シェーダーパラメータの動的変更。
- [ ] `create_mesh` / `import_asset` - プロシージャルなメッシュ生成やアセットのインポート管理。
- [ ] **テンプレート管理**: 車両、NPC (NavMesh)、インベントリ等の高度な雛形生成。

### 2.4 エディター UX (AI の「配慮」)

- [ ] `mutation showEditorToast` - AI が「〜を修正しました」等の進捗を Godot エディター内に通知で表示。
- [ ] **内部リファクタリング**: `Typed GqlContext` による Rust 実装のさらなる堅牢化。

---

## ❄️ 優先度：低 (最適化・分析・学習)

さらなる品質向上と、ユーザー自身の学習を支援する機能です。

### 7.1 パフォーマンス・プロファイリング

- [ ] **自動分析**: ドローコール、メモリ、フレームレートのボトルネックを AI が検出。
- [ ] **最適化提案**: 非効率なノード構成や重いスクリプトの自動修正。

### 8.1 学習支援 & テンプレート

- [ ] **ベストプラクティス検索**: Godot 公式ドキュメントやサンプルから実装方法を提案。
- [ ] **シェーダーチュートリアル**: 基本的なエフェクトの解説とサンプル生成。

---

## マイルストーン概要

| 重点目標                   | 状態      | 主な成果                                            |
| :------------------------- | :-------- | :-------------------------------------------------- |
| **Foundation (基盤)**      | ✅ 完成   | GraphQL, WebSocket, 静的解析, 基本操作              |
| **Autonomy (自律)**        | 🚧 進行中 | 視覚検証 (Screenshot), デバッグ制御, 高度な自己修復 |
| **Rich Assets (アセット)** | 📅 予定   | マテリアル生成, テンプレート, プロシージャル        |
| **Intelligence (最適化)**  | 📅 予定   | パフォーマンス分析, ベストプラクティス学習          |

---

> 💡 **フィードバック**: このロードマップは、AI が「より賢く、より自律的に」Godot を扱えるようになることを最優先に設計されています。
