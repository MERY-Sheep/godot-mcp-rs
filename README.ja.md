# Godot MCP Server (Rust Implementation)

[![MCP Server](https://img.shields.io/badge/MCP-Server-orange.svg)](https://modelcontextprotocol.io)
[![Rust](https://img.shields.io/badge/Rust-1.70+-blue.svg)](https://www.rust-lang.org)
[![Godot](https://img.shields.io/badge/Godot-4.x-green.svg)](https://godotengine.org)

Godot ã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ AI (LLM) ã‹ã‚‰é«˜åº¦ã«æ“ä½œãƒ»åˆ†æã™ã‚‹ãŸã‚ã® Model Context Protocol (MCP) ã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚
ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®è§£æã«åŠ ãˆã€ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä»‹ã—ãŸ**ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  (live) æ“ä½œ**ã‚’å¼·åŠ›ã«ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

## ä¸»ãªç‰¹å¾´

- **GraphQL (GQL) ã«ã‚ˆã‚‹çµ±åˆæ“ä½œ (New! ğŸ”¥)**: ã™ã¹ã¦ã® Godot æ“ä½œã‚’å˜ä¸€ã® GraphQL ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±ã§å®Ÿè¡Œå¯èƒ½ã€‚
- **è‡ªå¾‹çš„ TDD æ”¯æ´**: GraphQL çµŒç”±ã§ GdUnit4 ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã€ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ã‚’æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦å–å¾—ã€‚AI ã«ã‚ˆã‚‹è‡ªå‹•ä¿®æ­£ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿç¾ã€‚
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ“ä½œ (live)**: ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã‚’é–‹ã„ãŸã¾ã¾ã€ãƒãƒ¼ãƒ‰ã®è¿½åŠ ãƒ»å¤‰æ›´ãƒ»ã‚·ã‚°ãƒŠãƒ«æ¥ç¶šãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆã‚’å³åº§ã«åæ˜ ã€‚
- **å®Œå…¨ãª Undo/Redo ã‚µãƒãƒ¼ãƒˆ**: live æ“ä½œã¯ã™ã¹ã¦ Godot ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã® Undo å±¥æ­´ã«æ®‹ã‚‹ãŸã‚ã€å®‰å¿ƒã—ã¦è©¦è¡ŒéŒ¯èª¤ãŒå¯èƒ½ã€‚
- **å¼·åŠ›ãªãƒ‘ãƒ¼ã‚µãƒ¼**: `.tscn`, `.gd`, `.tres` å½¢å¼ã‚’è§£æã—ã€é™çš„ãªãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã‚‚æ§‹é€ çš„ã«ã‚µãƒãƒ¼ãƒˆã€‚
- **åˆç†åŒ–ã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆ**: ã‚ãšã‹ 3 ã¤ã®ã‚³ã‚¢ãƒ„ãƒ¼ãƒ«ã«ã‚ˆã‚Šã€LLM ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆè²»ã‚’æœ€å°é™ã«æŠ‘ãˆã¾ã™ã€‚

## ãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆ (GQL ä¸€æœ¬åŒ–)

å¾“æ¥ã® 50 å€‹ä»¥ä¸Šã®å€‹åˆ¥ãƒ„ãƒ¼ãƒ«ã¯ GQL ã‚¨ãƒ³ã‚¸ãƒ³ã«çµ±åˆã•ã‚Œã¾ã—ãŸã€‚ç¾åœ¨ã¯ä»¥ä¸‹ã® 3 ã¤ã®æ±ç”¨ãƒ„ãƒ¼ãƒ«ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ç´°ã¯ [MIGRATION_GUIDE.md](docs/gql/MIGRATION_GUIDE.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

1. **`godot_query`**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ…‹ã€ã‚·ãƒ¼ãƒ³ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€çµ±è¨ˆæƒ…å ±ã®èª­ã¿å–ã‚Šã€‚
2. **`godot_mutate`**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®å¤‰æ›´ã€ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã€å®Ÿæ©Ÿ/ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼æ“ä½œã€‚
3. **`godot_introspect`**: åˆ©ç”¨å¯èƒ½ãªã‚¯ã‚¨ãƒªã‚„ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®å®šç¾©ï¼ˆSDLï¼‰ã‚’å–å¾—ã€‚

### GQL ã§å¯èƒ½ãªæ“ä½œä¾‹:

- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ†æ**: çµ±è¨ˆã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒãƒ¼ãƒ‰å‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã€‚
- **ã‚·ãƒ¼ãƒ³æ“ä½œ**: ãƒãƒ¼ãƒ‰ã®è¿½åŠ /å‰Šé™¤ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å¤‰æ›´ã€éšå±¤ã® JSON ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€‚
- **ã‚¹ã‚¯ãƒªãƒ—ãƒˆ & ãƒªã‚½ãƒ¼ã‚¹**: GDScript ã®è§£æãƒ»ç·¨é›†ã€`.tres` ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã€‚
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€£æº**: å®Ÿè¡Œä¸­ã® Godot ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã«å¯¾ã™ã‚‹å³æ™‚åæ˜ æ“ä½œã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ãƒ“ãƒ«ãƒ‰

```bash
cargo build --release
```

### 2. Godot ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. `addons/godot_mcp` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® `addons/` ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚
2. Project Settings -> Plugins ã‹ã‚‰ **Godot MCP** ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

### 3. Claude Desktop è¨­å®š

`%APPDATA%\Claude\claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "godot": {
      "command": "C:\\path\\to\\godot-mcp-rs.exe",
      "env": {
        "GODOT_PATH": "C:\\path\\to\\godot.exe"
      }
    }
  }
}
```

è©³ç´°ã¯ [mcp_config.json.example](mcp_config.json.example) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## CLI ãƒ¢ãƒ¼ãƒ‰

MCP ã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦ã ã‘ã§ãªãã€å˜ä½“ã® CLI ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ã‚‚åˆ©ç”¨å¯èƒ½ã§ã™ã€‚

```bash
# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ 
godot-mcp-rs tool live-add-node --name "Bot" --node-type "CharacterBody3D"

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’ç¢ºèª
godot-mcp-rs tool get-project-stats --project ./my_game
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT
